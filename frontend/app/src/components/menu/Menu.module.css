.menu {
    height: calc(100vh - var(--header-size));
    background: var(--frame-colour);
    position: fixed;
    top: var(--header-size);
    left: 0;
    z-index: var(--menu-z-index);
    box-shadow: 0px 5px 5px #0003;
    padding-left: var(--menu-hpadding);
    padding-right: var(--menu-hpadding); 
}

.open{
    width: auto;
}

.closed {
    width: calc(var(--menu-closed-size) - var(--menu-hpadding) - var(--menu-hpadding));
}

.menu > ul {
    padding: 0;
}

.menu ul li {
    background: var(--frame-colour);
    position: relative;
}

.menu > ul > li {
    margin: 0;
    padding: 0 var(--menu-li-padding) 0 var(--menu-li-padding);
    margin-bottom: var(--menu-li-padding);
    list-style: none;
    color: var(--nav-main-colour);
    width: calc(100% - var(--menu-li-padding) - var(--menu-li-padding));
    cursor: pointer;
    border-radius: 4px;
}

.itemChildrenToggle {
    position: absolute;
    right: 0.5rem;
    top: 0.25rem;
    width:1rem;
    height: 1rem;
} 

.itemIcon {
    width: calc(var(--menu-closed-size) - var(--menu-hpadding) - var(--menu-hpadding) - var(--menu-li-padding) -  var(--menu-li-padding));
    text-align: center;
    display: inline-block;
}

.itemTitle {
    margin-left: 0.5rem;
}

.itemChildren {
    padding: 0;
    list-style: none;
    height:0;
    overflow-y: hidden;
}

.itemChildrenOpen {
    height: auto;
}

.itemChildren > li {
    /* the item icon size + the margin-left of itemTitle */
    margin-top: 0.2rem;
}

.itemChildren > li > a > .itemLinkWrapper {
    padding-left: calc(var(--menu-closed-size) - var(--menu-hpadding) - var(--menu-hpadding) - var(--menu-li-padding) -  var(--menu-li-padding) + 0.5rem);
    
}

.itemLinkWrapper {
    display: block;
    position:relative;
    padding: var(--menu-li-padding);
    padding-right: 2rem;
    border-radius: 3px;
    padding-left: 0;
}
.itemLinkWrapper:hover, .itemLinkWrapper.activeLink {
    background: var(--main-bg-colour);
    color: var(--nav-highlight-colour);
}

.itemLinkWrapper.activeLink {
    font-weight:bold;
}